(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1041:function(e,t,n){},1061:function(e,t,n){},1063:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(17),l=n.n(r),c=(n(423),n(40)),i=n(41),s=n(44),u=n(42),d=n(45),m=n(413),h=n(96),f=n(95),p=n(117),b={default:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(arguments.length>1?arguments[1]:void 0).type,e}},E=n(14),g=n(64),v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={input:"",redirect:!1},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.setState({redirect:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement(E.h,{inverse:!0,collapseOnSelect:!0,staticTop:!0},o.a.createElement(E.h.Header,null,o.a.createElement(E.h.Brand,null,o.a.createElement(p.a,{to:""},"ETH Notebook")),o.a.createElement(E.h.Toggle,null)),o.a.createElement(E.h.Collapse,null,o.a.createElement(E.f,{pullRight:!0},o.a.createElement(E.g,{eventKey:1,href:"#"},o.a.createElement(E.c,{type:"text",placeholder:"Enter Transaction ID",value:this.state.input,onChange:function(t){return e.setState({input:t.target.value})},onKeyUp:function(t){"Enter"===t.key&&e.props.dispatch(Object(g.b)("/tx/"+e.state.input))}})))))}}]),t}(o.a.Component),w=Object(f.b)()(v),y=n(166),k=(n(272),n(501),n(273)),O=n(281),C='\n# ETH-notebook\n# \u4ee5\u592a\u574a\u8bb0\u4e8b\u672c\n\n\u6ca1\u4eba\u5220\u7684\u6389\u7684\u8bb0\u4e8b\u672c\n\nPut what you want to share into the textbox and put it into the ETH network.\nNobody can remove the message.\n\nShare the message to the world.\n\nAn instruction from a user: [here](https://medium.com/@zip520123/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E8%A8%98%E4%BA%8B%E6%9C%AC-911921f4fbc6)\nAny questions, email to [ethnotebook@gmail.com](mailto:ethnotebook@gmail.com)\n\n\n* Markdown language supported and recommended\n* An example: [Click](/tx/0x4cf8de58a27f5e0e23c54d307d6279b977d4ea907878570d20551b2c89cc29da)\n* Disclaimer: All the data are stored in ETH blockchain and owned by the sender of the transaction. This site is only a tool to display the content of transactions and won\'t be responsible for any issues caused by the content.\n## Codeblock?\n\n```\ndef helloWorld():\n  print("Hello World!")\n```\n\n## Tables?\n\n| Feature | Support |\n| ------ | ----------- |\n| tables | \u2714 |\n| alignment | \u2714 |\n| wewt | \u2714 |\n\n',j=new O(O.givenProvider),x=function(e){e=unescape(encodeURIComponent(e));var t,n,a,o="";for(t=0;t<e.length;t++)n=e.charCodeAt(t)>>>4&15,a=15&e.charCodeAt(t),o+="0123456789ABCDEF"[n],o+="0123456789ABCDEF"[a];return o},A=function(e){function t(e,n){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e,n))).genTransaction=function(){j.eth.getAccounts(function(e,t){if(t&&t[0]){var n=x(a.state.display);j.eth.estimateGas({to:"0x2D7Cca4b6103fC5b3Fdb5c66F9a649ab038a3DA9",data:n},function(e,r){j.eth.sendTransaction({from:t[0],value:j.utils.toWei("0.005","ether"),to:"0x2D7Cca4b6103fC5b3Fdb5c66F9a649ab038a3DA9",gas:r,data:n},function(e,t){e?a.setState({modal_title:"Error",modal_body:o.a.createElement("p",null,e.message),modal_show:!0}):a.setState({modal_title:"Success",modal_body:o.a.createElement("div",null,o.a.createElement("p",null,"Your transaction has been sent. Please wait until your transaction be mined."),o.a.createElement("p",null,"Once the transaction is mined, you can check your note here:"),o.a.createElement("p",null,"Check your transaction status:"),o.a.createElement("p",null,o.a.createElement("a",{target:"_blank",href:"https://etherscan.io/tx/"+t},"https://etherscan.io/tx/"+t)),o.a.createElement(E.a,{onClick:function(e){return a.props.dispatch(Object(g.b)("/tx/"+t))}},"View my note"),o.a.createElement("p",null,"Share the note with this link"),o.a.createElement("p",null,"http://ethnotebook.com/tx/"+t)),modal_show:!0})})})}else a.setState({modal_title:"Please Unlock Your Account or Add an Account to MetaMask",modal_body:o.a.createElement("p",null,"You need to send a ETH transaction to publish the note"),modal_show:!0})})},a._getInputPanel=function(){return j.currentProvider?o.a.createElement(E.i,null,o.a.createElement(E.i.Heading,{className:"clearfix"},"Input your message here:",o.a.createElement(E.a,{className:"pull-right",bsStyle:"primary",onClick:function(e){return a.genTransaction()}},"Publish")),o.a.createElement(E.i.Body,null,o.a.createElement("textarea",{id:"noter-text-area",className:"textarea",rows:"25",name:"textarea",placeholder:"Type your text in markdown.",onChange:a._onChange}))):o.a.createElement(E.i,null,o.a.createElement(E.i.Heading,null,"Please Install MetaMask"),o.a.createElement(E.i.Body,null,o.a.createElement("h3",null,"To publish a note, you need to send an ETH transaction, which requires MetaMask Installed"),o.a.createElement("a",{href:"https://metamask.io"},o.a.createElement("img",{alt:"metamask",style:{width:"100%"},src:"download-metamask.png"}))))},a.handleClose=function(){a.setState({modal_show:!1,modal_body:"",modal_title:""})},a._onChange=a._onChange.bind(Object(y.a)(a)),a.state={display:C,modal_body:"",modal_show:!1,modal_title:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"_onChange",value:function(e){e.preventDefault();var t=e.target.value?e.target.value:C;this.setState({display:t})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(E.b,{sm:6,md:6},this._getInputPanel()),o.a.createElement(E.b,{sm:6,md:6},o.a.createElement(E.i,null,o.a.createElement(E.i.Heading,null,"Your text will be:"),o.a.createElement(E.i.Body,null,o.a.createElement(E.d,{className:"markdown-display"},o.a.createElement(k,{source:this.state.display,skipHtml:!1,escapeHtml:!1}))))),o.a.createElement(E.e,{show:this.state.modal_show,onHide:this.handleClose},o.a.createElement(E.e.Header,{closeButton:!0},o.a.createElement(E.e.Title,null,this.state.modal_title)),o.a.createElement(E.e.Body,null,this.state.modal_body),o.a.createElement(E.e.Footer,null,o.a.createElement(E.a,{onClick:this.handleClose},"Close"))))}}]),t}(o.a.Component),_=Object(f.b)()(A),S=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(E.d,null,o.a.createElement("h1",null,"A Decentralized Notebook"),o.a.createElement("p",null,"Write and share your notes on Ethereum network. Nobody can modify or take it down.")),o.a.createElement(_,null))}}]),t}(o.a.Component),T=(n(1041),n(412)),B=n.n(T),H=n(273),N=n(281),D=new N(N.givenProvider);function P(e){if((e=e.toUpperCase()).length%2)return"";var t,n,a,o,r="";for(t=0;t<e.length;t+=2){if(n="0123456789ABCDEF".indexOf(e[t]),a="0123456789ABCDEF".indexOf(e[t+1]),n<0||a<0)return"";o=(n<<4)+a,r+=String.fromCharCode(o)}return r=decodeURIComponent(escape(r))}D.currentProvider||(D=new N(new N.providers.HttpProvider("https://mainnet.infura.io/zlPxlGZa5NUkLUBHtUVl")));var W=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={content:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;D.eth.getTransaction(e.match.params.txid,function(e,n){if(n){var a=n.input.toString().substring(2);t.setState({content:P(a)})}else t.setState({content:"No transaction found"})})}},{key:"componentWillMount",value:function(){var e=this;D.eth.getTransaction(this.props.match.params.txid,function(t,n){if(n){var a=n.input.toString().substring(2);e.setState({content:P(a)})}else e.setState({content:"No transaction found"})})}},{key:"render",value:function(){var e={url:window.location.href,identifier:this.props.match.params.txid,title:this.props.match.params.txid};return o.a.createElement("div",null,o.a.createElement(E.j,null,o.a.createElement(E.b,{xs:10,sm:8,smOffset:2,xsOffset:1},o.a.createElement(H,{className:"reader",source:this.state.content}))),o.a.createElement(E.j,null,o.a.createElement(E.b,{xs:10,sm:8,smOffset:2,xsOffset:1},o.a.createElement(B.a.DiscussionEmbed,{shortname:"ethnotebook",config:e}))))}}]),t}(o.a.Component),F=(n(1061),n(168)),I=n.n(F)()(),M=Object(g.c)(I),U=Object(h.d)(Object(h.c)(Object(m.a)({},b,{router:g.d})),Object(h.a)(M)),R=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(f.a,{store:U},o.a.createElement(g.a,{history:I},o.a.createElement("div",{className:"App"},o.a.createElement(w,null),o.a.createElement("div",null,o.a.createElement(p.b,{path:"/",exact:!0,component:S}),o.a.createElement(p.b,{path:"/tx/:txid",exact:!0,component:W})))))}}]),t}(a.Component),Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(o.a.createElement(R,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Y?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):z(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):z(e)})}}()},272:function(e,t,n){},414:function(e,t,n){e.exports=n(1063)},423:function(e,t,n){},501:function(e,t,n){},587:function(e,t){},589:function(e,t){},707:function(e,t){},839:function(e,t){}},[[414,1,2]]]);
//# sourceMappingURL=main.f529847e.chunk.js.map